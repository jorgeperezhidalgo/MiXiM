\chapter{Introduction}
\label{chap:introduction}

We are in information era, it is even said that information means money. It is obvious that accessing to this information
always and everywhere is an important issue. Due to this fact and thanks to telecommunication advances, nowadays it is
possible to be permanently connected. Technology has also made devices smaller, cheaper and more powerful
every day (\ac{PDA}, Mobile Telephones, \ac{MP3} Players \ldots). All this together has created the \ac{WPAN} concept, a way 
all these devices can be interconnected, in order to complement each other to obtain applications beyond our imagination. The 
problem in this idyllic world is an old problem, energy. All these devices are supplied with batteries, what means that their 
lives are not so long until we must plug them in to continue working with them. This is the reason why it is necessary to design them
in a way that their energy consumption gets reduced.

With the objective of creating an standard for this \ac{WPAN}, the \ac{IEEE}, formed the 802.15 group, which created different 
kind of networks depending on the data rate. 802.15.4 forms part of this kind of networks and it is designed for low data rates but 
also for low consumption. This standard is the one this work is based on.

\section{Why \ac{WSN}?}

As a cabled technology would be unpractical for a topology where freedom of movement is a must, wireless technology becomes essential, 
but why did we choose 802.15.4 \ac{WSN} and not other alternatives?

One possible alternative would have been Wi-Fi. This technology is based in \ac{IEEE} 802.11 standard, and with bit rates up to
54 Mbps and much bigger ranges, it would be a good alternative, but its energy consumption is much bigger than for 802.15.4 \ac{WSN}.

In the same group as \ac{WSN}, Bluetooth can be found (\ac{IEEE} 802.15.1). This standard has bigger bit rates than 
802.15.4, but its energy consumption is still too big, as it is not thought for this kind of applications. Also Bluetooth scalability
is not as good as for 802.15.4.

These reasons combined with the low prices of 802.15.4 nodes compared with the other alternatives, made this work use the \ac{IEEE} 802.15.4 
as the selected standard for building a High Configurable Protocol for localization. The idea is that by using this protocol we should
get a little node working with a couple of AA batteries for many months or even some years.

\section{Applications}

\ac{WSN} applications are wide and diverse, these application areas are just some examples:

\begin{itemize}
 \item \textbf{Medicine.} As node's size is becoming smaller and smaller, some patients with problems which should be controlled constantly,
could find this networks really useful.
 \item \textbf{Security environments.} \ac{WSN} could be helpful in places with toxic substances' presence or places which need to be controlled
24/7. Both cases escape to human control.
 \item \textbf{Environmental sensors.} Vast areas like forests, sees, coasts, etc. that need to be controlled in some parameters like
humidity, temperature, fire, seismic activity, etc. which are impossible to be watched by humans, are well controlled with sensors. At the same 
time the environmental impact is minimized.
 \item \textbf{Industrial sensors.} The size of the sensors makes possible to access every corner of the industrial process, and it is also
possible to control much more parameters.
 \item \textbf{Indoor positioning.} Sensors facilitate to be guided inside a building we do not know, or even help people with handicaps.
They are also useful to locate determinate objects in a building.
 \item \textbf{Home automation.} Every element in our house could have a sensor inside, they could communicate among them and even notify us
of some alerts or needs of the house, they could also check how we feel to prepare the house in a specific way.
\end{itemize}

Table \ref{tab:wsn_applications} was made from all this applications and many more. This table reflects a summary, and also divides and groups
the applications according to the priority in energy, accuracy and emergency. It also shows if the involved device needs to obtain some information
from the network. Priority in energy means that the other parameters do not matter too much, saving energy is the important task. 
The same happens with accuracy and with emergency, where the rest does not matter, the exact position or speed is needed.

\begin{table}[ht]\footnotesize
\begin{center}
 \begin{tabular}{l||cccc}
  \noalign{\vspace*{0.5cm}}
  & \textbf{Consume} & \textbf{Accuracy} & \textbf{Emergency} & \textbf{Do I need} \\
  & \textbf{Priority} & \textbf{Priority} & \textbf{Priority} & \textbf{some data?} \\
  \hline\hline
  \textbf{Guided System} & High & High & Very High & Yes \\
  \hline 
  \textbf{Routine inspection in mobile stations} & Very High & High & Low & No \\
  \hline
  \textbf{Objects localization with accuracy} & High & High & Low & No \\
  \hline
  \textbf{Get some data about my position} & High & High & Low & Yes \\
  \hline
  \textbf{Objects localization with emergency} & High & Low & High & No \\
  \hline
  \textbf{Big objects with battery localization} & Very High & Low & Low & No \\
  \hline
  \textbf{Routine inspection in fixed stations} & Very High & Very Low & Low & No \\
  \hline
  \textbf{Get position with low energy consumption} & Very High & Low & Low & Yes \\
  \hline
  \textbf{Emergency measurement in mobile stations} & Low & High & Very High & No \\
  \hline
  \textbf{Emergency measurement in fixed stations} & Low & Very Low & Very High & No \\
  \hline
  \textbf{Plugged in objects localization} & Very Low & Low & Low & No \\
  \hline
  \textbf{High accuracy localization at any price} & Very Low & Very High & Very Low & No \\
  \hline
  \end{tabular}
 \caption{Summed and grouped \ac{WSN} applications}
 \label{tab:wsn_applications}
\end{center}
\end{table}

Later on, this kind of applications will conclude in 4 different types of nodes in our network.

\section{Challenges and Objectives}

The market demands low cost devices, able to build a network in an easy way, and capable to measure different parameters and react to them
or answer to determinate orders received from a central computer. As it was already said, the ability to move is an important issue, so is 
also localization, as the position is needed to be able to communicate with a device and to provide it the best information possible.

These standard nodes do not have a big range, that is why end devices cannot connect directly with a central computer and a routers network 
is needed. This makes necessary again a system to locate where the end devices are, as a routing path is needed to send the information.

All these reasons make 802.15.4 standard to be the chosen one to build up a High Configurable Protocol for localization with \ac{WSN}. 
But this is not just perfect, some challenges are still to solve:

\begin{itemize}
 \item \textbf{Energy.} End devices with movement capability are supplied with batteries, and unless we want to change the battery often,
a good protocol making the battery life longer is needed.
 \item \textbf{Scalability.} Networks can be small at the beginning, but they can grow rapidly and decrease again. A network that adapts 
dynamically to new conditions is also needed.
 \item \textbf{Adaptability.} Routers and above all, end devices, might be configured to save energy. But if an emergency occurs, and suddenly
nodes must communicate immediately and with reliability with a central computer, this situation would be incompatible with energy saving. 
Hence, devices must be adaptable to the circumstances.
 \item \textbf{Simplicity.} Devices must remain low cost and small. That means usually that hardware components do not have a good performance
or big memory capacities. This is a strong constraint in the design, and that is why the protocol must remain simple.
\end{itemize}

The objective of this Final Project is hence, the design of a Protocol based on \ac{IEEE} 802.15.4 standard, able to deal with all the 
challenges stated before. But the objective is also the design of a robust and complete framework where future works could add more 
functionalities or improve the existing ones without worrying about the communication or basic functionality.
As this is a design stage, simulation was chosen instead of testing directly on real devices. The simulation will be done with the Discrete 
Events Simulator \ac{OMNeT++} 4.0 using the \ac{MiXiM} framework. The results will be treated with \ac{MATLAB}. All these tools will be 
commented later on.

\section{Document structure}

This Final Project tries to explain in a detailed way the design and test of a High Configurable Protocol for localization in \ac{WSN}. To 
fulfill this, the following document structure will be used:

\begin{itemize}
 \item \textbf{Chapter \ref{chap:introduction}: \nameref{chap:introduction}.} In the current chapter different wireless solutions, applications
for \ac{WSN}, challenges and objectives were exposed.
 \item \textbf{Chapter \ref{chap:802154standard}: \nameref{chap:802154standard}.} In this chapter, main aspects of the 802.15.4 standard, which
are needed for the understanding of the following chapters, are presented. This chapter does not mean to be a detailed explanation of the 
standard.
 \item \textbf{Chapter \ref{chap:protocoldesign}: \nameref{chap:protocoldesign}.} This chapter comments briefly existing solutions for the
presented challenges and proposes and explains a new protocol.
 \item \textbf{Chapter \ref{chap:protocolimplementation}: \nameref{chap:protocolimplementation}.} Here a detailed description of the protocol 
implementation is presented, preceded by an explanation of the tools, the functionalities they already implemented and how they were
improved.
 \item \textbf{Chapter \ref{chap:simulationandresults}: \nameref{chap:simulationandresults}.} Several scenarios are proposed, which after their
simulation, give some results that will be analyzed. The whole protocol will be simulated, but this chapter will also focus on one of the 
phases where deeper results will be obtained.
 \item \textbf{Chapter \ref{chap:conclusionsandfuture}: \nameref{chap:conclusionsandfuture}.} Conclusions from previous chapters will be 
presented. This chapter will also include some possible future work and improvements that this protocol could have.
 \item \textbf{Appendix \ref{chap:installation}: \nameref{chap:installation}.} Contains a detailed manual about how to install and configure 
the source code burnt in the \ac{CD}. This chapter tries to make easier the first contact with the source code, to a new person who pretends
to continue working with it. Here, an introduction to the version control system GIT, used in the development of this Final Project, is also 
given.
\end{itemize}

